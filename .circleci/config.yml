version: 2.1
executors:
  default:
    docker:
    - image: circleci/golang:1.16.0
  docker-build:
    docker:
    - image: docker:stable
jobs:
  lint:
    executor:
      name: default

    steps:
    - checkout
    - setup_remote_docker
    - run:
        command: |
          echo ${DOCKERHUB_SECRET} | docker login -u abhay900 --password abhay12
          docker run --name seata-file -p 8091:8091 hellowoodes/seata:0.9.0-file
          docker run --name zookeeper -p 2181:2181 -p 2888:2888 -p 3888:3888 -d zookeeper
          cd seata-samples\dubbo\src\main\resources\sql
          DubboStockServiceStarter
          
