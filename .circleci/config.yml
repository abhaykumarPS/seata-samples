version: 2.1
executors:
  default:
    docker:
    - image: seataio/seata-server
  docker-build:
    docker:
    - image: docker:stable
jobs:
  lint:
    executor:
      name: default

    steps:
    - checkout
    - setup_remote_docker
    - run:
        command: |
          echo ${DOCKERHUB_SECRET} | docker login -u abhay900 --password abhay12
          docker run --name seata-server -p 8091:8091 -e SEATA_IP=192.168.1.1 -e SEATA_PORT=8091 seataio/seata-server
          cd seata-samples\dubbo\src\main\resources\sql
          DubboStockServiceStarter
          
